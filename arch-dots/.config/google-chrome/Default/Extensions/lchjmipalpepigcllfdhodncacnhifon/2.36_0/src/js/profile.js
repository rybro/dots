var profile={sort_history:function(){for(var a=document.getElementsByTagName("table")[0].getElementsByTagName("a"),b=0;a[b];b++)-1!=a[b].href.indexOf("history.php")&&(a[b].href+="?b")},addControlPanel:function(){var a,b,d,e,f,g,h=[],k=[];a=[];if(-1<document.documentElement.innerText.indexOf("Edit My Profile")){a=document.getElementsByTagName("td");for(var c=0;c<a.length;c++)b=a[c],-1<b.innerText.indexOf("Administrator of")&&(d=a[c+1].getElementsByTagName("a"),f=!0),-1<b.innerText.indexOf("Moderator of")&&
(e=a[c+1].getElementsByTagName("a"),g=!0);f&&(h=Array.prototype.slice.call(d));g&&(k=Array.prototype.slice.call(e));a=h.concat(k);for(c=0;c<a.length;c++)a[c].classList.add("control");$("a.control").hoverIntent(function(){var a=$("table.grid tr td").css("background-color"),b="http://endoftheinter.net/tag.php?tag="+this.innerText;$(this).append($("<span style='display: inline; position: absolute; z-index: 1; left: 100; background: "+a+";'><a href='"+b+"'>&nbsp<b>[Edit Tag]</b></a></span>"))},function(){$(this).find("span:last").remove()})}}},
profileHelper={init:function(){chrome.runtime.sendMessage({need:"config"},function(a){config=a.data;for(var b in profile)if(config[b])try{profile[b]()}catch(d){console.log("error in "+b+":",d)}profile.addControlPanel()})}};profileHelper.init();
